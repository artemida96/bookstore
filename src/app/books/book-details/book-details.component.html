<div
  *ngIf="book$ | async as book"
  class="flex flex-col lg:flex-row gap-4 p-4 bg-white shadow-md rounded-md mx-auto"
  style="max-width: 100%"
>
  <!-- Left Column - Book Cover -->
  <div class="lg:w-1/3 flex-1">
    <div class="w-64 h-96 bg-gray-100 flex items-center justify-center">
      <img
        [src]="''"
        alt="No image"
        class="w-64 h-64"
        *ngIf="''; else noImage"
      />
      <ng-template #noImage>
        <span class="text-gray-300 text-lg font-semibold">Image</span>
      </ng-template>
    </div>
  </div>
  <!-- Right Column - Book Details -->
  <div class="lg:w-2/3 flex-1">
    <span class="font-semibold text-xl">{{ book.title }}</span>
    <div class="flex flex-col gap-3">
      <div class="mt-4">{{ book.description }}</div>
      <p><strong>Year:</strong> {{ book.published | dateYear }}</p>
      <p><strong>Page Numbers:</strong> {{ book.pages }}</p>
      <p><strong>Publisher:</strong> {{ book.publisher }}</p>
      <p><strong>ISBN-10:</strong> {{ book.isbn }}</p>
      <div class="flex justify-end">
        <button
          type="button"
          class="bg-orange-700 hover:bg-orange-800 text-white font-bold py-2 px-8 rounded"
        >
          Buy
        </button>
      </div>
    </div>
  </div>
</div>
<span class="text-xl text-start mt-6 font-semibold">
  Other books that you may like
</span>
<div class="flex flex-wrap justify-between mt-12">
  <ng-container *ngIf="books$ | async as books">
    <!-- Get the ISBN of the currently selected book -->
    <ng-container *ngIf="book$ | async as selectedBook">
      <ng-container *ngFor="let book of books.slice(0, 4); let i = index">
        <!-- Check if the book's ISBN is different from the selected book's ISBN -->
        <ng-container *ngIf="book.isbn !== selectedBook.isbn">
          <a
            [routerLink]="['..', book.isbn]"
            class="w-full sm:w-1/2 md:w-1/3 lg:w-1/6 xl:w-1/6 p-2 bg-white rounded-md shadow-lg"
          >
            <div
              class="w-24 h-32 bg-gray-100 flex items-center justify-center mx-auto"
            >
              <img
                [src]="''"
                alt="No image"
                class="w-64 h-64"
                *ngIf="''; else noImage"
              />
              <ng-template #noImage>
                <span class="text-gray-300 text-lg font-semibold">Image</span>
              </ng-template>
            </div>
            <div class="text-center mt-2 font-semibold whitespace-normal">
              {{ book.title }}
            </div>
          </a>
        </ng-container>
      </ng-container>
    </ng-container>
  </ng-container>
</div>
